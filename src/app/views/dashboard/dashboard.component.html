<div class="container">
    <h1>Saldo atual: <p [style]="{'color': usuario.saldo > 0 ? 'green' : 'red'}">R${{ usuario.saldo }}</p>
    </h1>
    <button class="adicionar" (click)="abrirDialogMontante()">Adicionar dinheiro</button>
    <div class="graficos">
        <app-grafico  class="grafico" [pieChartData]="dataEntrada" [pieChartLabels]="labelsEntrada"></app-grafico>
        <app-grafico  class="grafico" [pieChartData]="data" [pieChartLabels]="labels"></app-grafico>
      </div>
    <div class="dados">
        <div class="contas">
            <h2>Contas</h2>
            <button class="dialog-conta adicionar" (click)="abrirDialogConta()">Adicionar nova conta</button>
            <table mat-table [dataSource]="contas" class="mat-elevation-z8">
                <ng-container matColumnDef="descricao">
                    <th mat-header-cell *matHeaderCellDef> Descrição</th>
                    <td mat-cell *matCellDef="let element"> {{element.descricao}} </td>
                </ng-container>

                <ng-container matColumnDef="tipoGasto">
                    <th mat-header-cell *matHeaderCellDef> Tipo de gasto </th>
                    <td mat-cell *matCellDef="let element"> {{element.tipoGasto}} </td>
                </ng-container>


                <ng-container matColumnDef="dataVencimento">
                    <th mat-header-cell *matHeaderCellDef> Data de vencimento </th>
                    <td mat-cell *matCellDef="let element" itemtype="date"> {{formatarData(element.dataVencimento)}}
                    </td>
                </ng-container>


                <ng-container matColumnDef="preco">
                    <th mat-header-cell *matHeaderCellDef> Preço </th>
                    <td mat-cell *matCellDef="let element"> {{element.preco}} </td>
                </ng-container>

                <ng-container matColumnDef="acoes">
                    <th mat-header-cell *matHeaderCellDef>Ações</th>
                    <td mat-cell *matCellDef="let conta">
                        <button class="pagar-conta pagar" (click)="pagarConta(conta.id)"
                            [disabled]="conta.paga ? true : false">Pagar</button>
                        <button class="excluir-conta apagar" (click)="apagarConta(conta.id)">Apagar</button>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </div>

        <div class="retiradas">
            <h2>Retiradas</h2>
            <button class="adicionar" (click)="openDialogRetirada()">Nova Retirada</button>
            <table mat-table [dataSource]="retiradas" class="mat-elevation-z8">
                <ng-container matColumnDef="descricao">
                    <th mat-header-cell *matHeaderCellDef> Descrição</th>
                    <td mat-cell *matCellDef="let element"> {{element.descricao}} </td>
                </ng-container>

                <ng-container matColumnDef="tipoGasto">
                    <th mat-header-cell *matHeaderCellDef> Tipo de gasto </th>
                    <td mat-cell *matCellDef="let element"> {{element.tipoGasto}} </td>
                </ng-container>

                <ng-container matColumnDef="quantia">
                    <th mat-header-cell *matHeaderCellDef> Quantia retirada </th>
                    <td mat-cell *matCellDef="let element"> {{element.quantia}} </td>
                </ng-container>

                <ng-container matColumnDef="acoes">
                    <th mat-header-cell *matHeaderCellDef>Ações</th>
                    <td mat-cell *matCellDef="let retirada">
                        <button class="edicao-retirada editar" (click)="abrirDialogEdicaoRetirada(retirada.id)">Editar</button>
                        <button class="excluir-retirada apagar" (click)="apagarRetirada(retirada.id)">Apagar</button>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumnsRetiradas"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumnsRetiradas;"></tr>
            </table>
        </div>
        <div class="entradas">
            <h2>Entradas</h2>
            <table mat-table [dataSource]="entradas" class="mat-elevation-z8">
                <ng-container matColumnDef="descricao">
                    <th mat-header-cell *matHeaderCellDef> Descrição</th>
                    <td mat-cell *matCellDef="let element"> {{element.descricao}} </td>
                </ng-container>

                <ng-container matColumnDef="tipoEntrada">
                    <th mat-header-cell *matHeaderCellDef> Tipo de entrada </th>
                    <td mat-cell *matCellDef="let element"> {{element.tipoEntrada}} </td>
                </ng-container>

                <ng-container matColumnDef="quantia">
                    <th mat-header-cell *matHeaderCellDef> Quantia adicionada </th>
                    <td mat-cell *matCellDef="let element"> {{element.quantia}} </td>
                </ng-container>

                <ng-container matColumnDef="acoes">
                    <th mat-header-cell *matHeaderCellDef>Ações</th>
                    <td mat-cell *matCellDef="let entrada">
                        <button class="excluir-entrada apagar" (click)="apagarEntrada(entrada.id)">Apagar</button>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumnsEntradas"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumnsEntradas;"></tr>
            </table>
        </div>
    </div>
</div>